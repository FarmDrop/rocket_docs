.panel.panel-default
  = link_to "##{action_id(action)}", data: { toggle: 'collapse' } do
    .panel-heading
      h4.panel-title
        = action.name
  .panel-collapse.collapse id="#{action_id(action)}"
    .panel-body
      ul.nav.nav-tabs
        - action.methods.each_with_index do |method, index|
          li class="#{index == 0 ? 'active' : ''}"
            = link_to method.upcase, "##{method_id(action, method)}", data: { toggle: 'tab' }
      .tab-content
        - action.methods.each_with_index do |method, index|
            .tab-pane class="#{index == 0 ? 'active' : ''}" id="#{method_id(action, method)}"

              .col-md-6
                .row
                  .col-xs-12
                    - if action.url(method)
                      h4 URL
                      code
                        = action.url
                  .col-xs-12
                    - if action.description(method)
                      h4 Description
                      = action.description(method).html_safe
              .col-md-6
                .row
                  .col-xs-12
                    - if action.params(method)
                      h4 Params
                      table.table.table-striped
                        thead
                          tr
                            th Name
                            th Type
                        tbody
                          = render 'docs/rocket_docs/hash_param', hash: action.params(method), wrap: nil

              - if action.url(method)
                .col-xs-12
                  hr
                  = link_to '#', class: 'btn btn-primary try-out', data: { request_method: method, params: action.params(method), url: action.url, toggle: 'modal', target: '#try-out-modal' } do
                    span.glyphicon.glyphicon-new-window
                    |  Try it out
